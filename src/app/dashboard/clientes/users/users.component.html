<div class="main-users">
    @if(CrearUsuario){
        <div class="content-crear-usuario">
            <app-crear-usuario (cerrarVentana)="CerrarVentanaCrearUsuario = false"></app-crear-usuario>
        </div>    
    }
    @if(mostrarInfUsuario&&!CrearUsuario){
        <div class="content-ver-usuario">
            <svg  data-name="Layer 1" viewBox="0 0 24 24" width="25px" height="25px" fill="red" style="cursor: pointer; position:absolute" (click)="cerrarVentanaInfUsuario()"><path d="m12,0C5.383,0,0,5.383,0,12s5.383,12,12,12,12-5.383,12-12S18.617,0,12,0Zm4.707,15.293l-1.414,1.414-3.293-3.293-3.293,3.293-1.414-1.414,3.293-3.293-3.293-3.293,1.414-1.414,3.293,3.293,3.293-3.293,1.414,1.414-3.293,3.293,3.293,3.293Z"/></svg>
            <div class="content-inf">
                <p id="titulo-inf-user">Informacion Usuario</p>
                <div class="column-row">
                    <div class="content-inf-text">
                        <p class="text-informacion-titulo">Nombre</p>
                        <input [class]="editarInfUser ? 'datos' : 'text-informacion'" type="text" name="nombre" id="" [(ngModel)]="user.nombre" [disabled]="!editarInfUser">
                    </div>
                    <div class="content-inf-text">
                        <p class="text-informacion-titulo">Fecha creacion</p>
                        <p>{{user.fecha}}</p>
                    </div>
                </div>
               <div class="column-row">
                    <div class="content-inf-text">
                        <p class="text-informacion-titulo">Direccion</p>
                        <input [class]="editarInfUser ? 'datos' : 'text-informacion'" type="text" name="direccion" id=""  [(ngModel)]="user.direccion" [disabled]="!editarInfUser">
                    </div>
                    <div class="content-inf-text">
                        <p class="text-informacion-titulo">Estado</p>
                        @if(!editarInfUser){
                            <p class="text-informacion">{{user.estado}}</p>
                        }@else {
                            <select class="datos-multiples" name="estado" id="estado" [(ngModel)]="user.estado">
                            @for(estado of estados; track estado){
                                <option [value]="estado">{{estado}}</option>
                            }
                            </select>
                        }
                    </div>
               </div>
                <div  class="column-row">
                    <div class="content-inf-text">
                        <p class="text-informacion-titulo">Departamento</p>
                        <input [class]="editarInfUser ? 'datos' : 'text-informacion'" type="text" name="departamento" id=""  [(ngModel)]="user.departamento" [disabled]="!editarInfUser">
                    </div>
                    <div class="content-inf-text">
                        <p class="text-informacion-titulo">Correo</p>
                        <input [class]="editarInfUser ? 'datos' : 'text-informacion'" type="text" name="correo" id=""  [(ngModel)]="user.correo" [disabled]="!editarInfUser">
                    </div>
                </div>
                <div>
                    <p class="text-informacion-titulo">Permisos</p>
                    <button>Ver</button>

                   @if(editarInfUser){
                        <button class="button-guardar" (click)="guardarInfUser()">Guardar</button>
                   }@else {
                        <button class="button-ver" (click)="Editar = true">Editar</button>
                   }
                </div>
                    <p class="text-informacion-titulo">Activos</p>
                    <div class="ver-activo">
                        <p>Hardware</p>
                        <div class="content-text-cantidad-activo">
                           222222222222eeeeeeeeeeee22222222
                        </div>
                        <button class="button-ver" >Ver</button>
                </div>
                <div class="ver-activo">
                    <p>Software</p>
                    <div class="content-text-cantidad-activo">
                        0
                    </div>
                    <button class="button-ver" >Ver</button>
                </div>
            </div>
        </div>  
    }
    <p class="titulo">Usuarios</p>
    <div class="column-initial">
          
        <button class="boton-ingresar" (click)="CrearUsuario = true">Nuevo</button>
        <div class="content-buscar">
            <input [(ngModel)]="textBuscar" class="input-buscar" type="text" placeholder="Buscar">
            <img class="svg-busqueda" src="busqueda.svg" alt="busqueda">
        </div>
    </div>
    <div class="fila-titulo">
        <th width="20px"></th>
        <th class="data-row data-nombre">Nombre</th>
        <th class="data-row">Estado</th>
        <th class="data-row">Departamento</th>
        <th class="data-row">Activos</th>
        <th class="data-row">Fecha</th>
        <th class="data-row">Id</th>
        <th></th>
    </div> 
    <hr class="linea">
    <div>
            @for(user of Filtrados(users); track trackById($index, user)){
                <div class="content-user">
                    <div class="fila-datos" (click)="routerInfUsers(user.id)">            
                        <img src="usuario.svg" class="foto-ciente" alt="">
                        <th class="data-row" style="margin-left: 2%;">{{user.nombre |titlecase}}</th>
                        <th class="data-row">{{user.estado |titlecase}}</th>
                        <th class="data-row">{{user.departamento |titlecase}}</th>
                        <th class="data-row">{{user.activos}}</th>
                        <th class="data-row">{{user.fecha}}</th>
                        <th class="data-row">{{user.id}}</th>    
                    </div>
                    <svg class="svg-eliminar" data-name="Layer 1" viewBox="0 0 24 24" (click)="eliminarUsers(users.id)"><path d="M22,9V19a5.006,5.006,0,0,1-5,5H7a5.006,5.006,0,0,1-5-5V9A1,1,0,0,1,3,8H21A1,1,0,0,1,22,9Zm1-5H13V2h2a1,1,0,0,0,0-2H9A1,1,0,0,0,9,2h2V4H1A1,1,0,0,0,1,6H23A1,1,0,0,0,23,4Z"/></svg>
                    
                </div>
            }
    </div>
</div>